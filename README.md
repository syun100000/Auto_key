# Auto_key
Panasonic電気鍵制御用Aruduno Code

このArduino用のソースコードは、電気錠の制御システムを実装するものである。Ethernet通信を介してウェブインターフェースから錠の操作が可能であり、また自動施錠の機能も備えている。具体的な機能と動作は以下の通りである。

### 主要なピン設定
- `RELAY`: 電気錠の制御用リレーと接続するピン
- `MONITOR`: 電気錠の状態（施錠/解錠）をモニタリングするピン
- `BUTTON`: 自動施錠時間を設定するためのボタンと接続するピン

### 制御変数
- `lockedStateStartTime`、`unlockedStateStartTime`: 施錠、解錠状態の開始時刻
- `lockTimeout`: 自動施錠までの時間を計測するための変数
- `locked`: 電気錠の現在の状態（施錠か解錠か）を保持する変数

### セットアップ
- 各ピンのモードを設定する。
- シリアル通信を開始する。
- EEPROMから自動施錠時間の設定を読み取る。
- Ethernet通信の設定を行う。

### メインループ
- 電気錠の状態を読み取る。
- ボタンの状態に基づき、自動施錠の時間を設定する。
- 自動施錠機能を実装する。
- ウェブインターフェースからの指令を受け取り、電気錠を操作する。

### ウェブインターフェース
- 電気錠の現在の状態（施錠/解錠）を表示する。
- 自動施錠時間を設定するオプションを提供する。
- 電気錠を施錠/解錠するボタンを提供する。

以上がこのコードの主要な機能と動作である。Ethernetライブラリを使用しているため、ネットワーク経由での制御が可能である。このコードはArduinoボードとEthernetシールド、リレー、ボタン、LEDなどのハードウェアと組み合わせて使用する。